<!-- TODO - Back layer
  Connected Devices (n) ... Profile Username
  ---
  Favourites
  .
  .
  .
-->
<ft-backdrop>
  <main>
    <clip-scratchpad
      [value]="editingText | async"
      (valueChange)="updateEditingValue($event)"
      (editingChange)="updateEditingState($event)"
      (done)="saveSnippet($event)"
    ></clip-scratchpad>

    <!-- TODO - Separate into its own component -->
    <div class="history">
      <!-- TODO - If not IDB, history is not supported -->
      <header class="header">
        <span>Saved Snippets</span>
        <!-- TODO - Remove button if not supported -->
        <button class="button" (click)="refreshClipboard()">
          <i class="material-icons">assignment</i>
          <span>Record clipboard</span>
        </button>
      </header>
      <div
        class="clip-list"
        *ngIf="(clips | async)?.length > 0; else emptyListState"
      >
        <clip-clip
          *ngFor="let clip of clips | async"
          [clip]="clip"
          (use)="useSnippet($event)"
          (mousedown)="$event.preventDefault()"
        ></clip-clip>
      </div>
      <ng-template #emptyListState>
        <div class="listEmptyState">
          <div>
            Your saved snippets will show up here.
          </div>
        </div>
      </ng-template>
    </div>
  </main>
</ft-backdrop>
